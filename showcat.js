const fs = require('fs');
const https = require('https');

const consoleJpeg = require('console-jpeg');

const file = fs.createWriteStream(__dirname + '/cat.jpg');
const request = https.get("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmc1ufYlMAuS3gf53MdR7XI4ODCYNefTc6FYWt-B0&usqp=CAU", function(response) {

  response.pipe(file);
  
  file.on('finish', function() {
      file.close(() => {
      
        const image = fs.readFileSync(__dirname + '/cat.jpg');
        console.log(consoleJpeg.jpegStringify(image));
        
      });  
    });
});
